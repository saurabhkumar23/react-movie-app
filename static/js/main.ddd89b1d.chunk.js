(this["webpackJsonpmovie-app"]=this["webpackJsonpmovie-app"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(9),c=n.n(a),s=(n(15),n(16),n(7)),i=n.n(s),o=n(8),l=n(10),u=n(2),j=n(3),h=n(5),b=n(4);var d=n(0),p=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this.props,t=e.genres,n=e.groupBygenre;return Object(d.jsx)("ul",{class:"list-group",children:t.map((function(e){return Object(d.jsx)("li",{class:"list-group-item",onClick:function(){n(e.name)},children:e.name},e.id)}))})}}]),n}(r.Component),m=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){for(var e=this.props,t=e.numberofPage,n=e.currentPage,r=e.changeCurrentPage,a=[],c=0;c<t;c++)a.push(c+1);return Object(d.jsx)("nav",{"aria-label":"...",className:"col-2",children:Object(d.jsx)("ul",{className:"pagination ",children:a.map((function(e){var t=e==n?"page-item active":"page-item";return Object(d.jsx)("li",{className:t,"aria-current":"page",onClick:function(){r(e)},children:Object(d.jsx)("span",{className:"page-link",children:e})})}))})})}}]),n}(r.Component),f=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={movies:[],genres:[{id:1,name:"All Genres"}],currSearchText:"",limit:4,currentPage:1,cGenre:"All Genres"},e.deleteEntry=function(t){var n=e.state.movies.filter((function(e){return e._id!=t}));e.setState({movies:n})},e.setCurrentText=function(t){var n=t.target.value;e.setState({currSearchText:n})},e.sortByRatings=function(t){var n,r=t.target.className,a=e.state.movies;n="fas fa-sort-up"==r?a.sort((function(e,t){return e.dailyRentalRate-t.dailyRentalRate})):a.sort((function(e,t){return t.dailyRentalRate-e.dailyRentalRate})),e.setState({movies:n})},e.sortByStock=function(t){var n,r=t.target.className.trim(),a=e.state.movies;n="fas fa-sort-up"==r?a.sort((function(e,t){return e.numberInStock-t.numberInStock})):a.sort((function(e,t){return t.numberInStock-e.numberInStock})),e.setState({movies:n})},e.changelimit=function(t){var n=t.target.value;n<1||e.setState({limit:n})},e.changeCurrentPage=function(t){e.setState({currentPage:t})},e.groupBygenre=function(t){e.setState({cGenre:t,currSearchText:""})},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://react-backend101.herokuapp.com/movies");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,this.setState({movies:n.movies}),e.next=9,fetch("https://react-backend101.herokuapp.com/genres");case 9:return t=e.sent,e.next=12,t.json();case 12:r=e.sent,this.setState({genres:[].concat(Object(o.a)(this.state.genres),Object(o.a)(r.genres))});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.movies,r=t.currSearchText,a=t.limit,c=t.currentPage,s=t.genres,i=t.cGenre,o=n;"All Genres"!=i&&(o=o.filter((function(e){return e.genre.name==i}))),""!=r&&(o=o.filter((function(e){return e.title.trim().toLowerCase().includes(r.toLowerCase())})));var l=Math.ceil(o.length/a),u=(c-1)*a,j=u+a;return o=o.slice(u,j),Object(d.jsxs)("div",{className:"row",style:{padding:"10px"},children:[Object(d.jsx)("div",{className:"col-3",children:Object(d.jsx)(p,{genres:s,groupBygenre:this.groupBygenre})}),Object(d.jsxs)("div",{className:"col-9",children:[Object(d.jsx)("input",{type:"search",value:r,onChange:this.setCurrentText}),Object(d.jsx)("input",{type:"number",className:"col-1",placeholder:"no of elements/page",value:a,onChange:this.changelimit}),Object(d.jsxs)("table",{className:"table",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{scope:"col",children:"#"}),Object(d.jsx)("th",{scope:"col",children:"Title"}),Object(d.jsx)("th",{scope:"col",children:"Genre"}),Object(d.jsxs)("th",{scope:"col",children:[Object(d.jsx)("i",{className:"fas fa-sort-up",onClick:this.sortByStock}),"Stock",Object(d.jsx)("i",{className:"fas fa-sort-down",onClick:this.sortByStock})]}),Object(d.jsxs)("th",{scope:"col",children:[Object(d.jsx)("i",{className:"fas fa-sort-up",onClick:this.sortByRatings}),"Rate",Object(d.jsx)("i",{className:"fas fa-sort-down",onClick:this.sortByRatings})]})]})}),Object(d.jsx)("tbody",{children:o.map((function(t){return Object(d.jsxs)("tr",{scope:"row",children:[Object(d.jsx)("td",{children:" "}),Object(d.jsxs)("td",{children:[t.title," "]}),Object(d.jsx)("td",{children:t.genre.name}),Object(d.jsx)("td",{children:t.numberInStock}),Object(d.jsx)("td",{children:t.dailyRentalRate}),Object(d.jsx)("td",{children:Object(d.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){e.deleteEntry(t._id)},children:"Delete"})})]},t._id)}))})]}),Object(d.jsx)(m,{numberofPage:l,currentPage:c,changeCurrentPage:this.changeCurrentPage})]})]})}}]),n}(r.Component),g=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(d.jsx)("nav",{class:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(d.jsx)("div",{className:"navbar-brand",children:"Movies"})})}}]),n}(r.Component);var O=function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(g,{}),Object(d.jsx)(f,{})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};n(19);c.a.render(Object(d.jsx)(O,{}),document.getElementById("root")),v()}},[[20,1,2]]]);
//# sourceMappingURL=main.ddd89b1d.chunk.js.map